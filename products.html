<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <title>Productos - Charlie's Tecnologi</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --bg: #fff;
      --text: #000;
      --border: #ddd;
    }
    [data-theme="dark"] {
      --bg: #181818;
      --text: #f5f5f5;
      --border: #444;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body { background: var(--bg); color: var(--text); }
    header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 1px solid var(--border); }
    .logo { font-size: 22px; font-weight: bold; }
    nav a { text-decoration: none; color: var(--text); margin-left: 15px; }
    .actions { display: flex; gap: 15px; }
    .cart-icon { position: relative; cursor: pointer; }
    #cartCount { position: absolute; top: -8px; right: -8px; background: #007bff; color: white; font-size: 12px; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
    main { padding: 20px; max-width: 1400px; margin: 0 auto; }
    .filters { display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; }
    .filters input, .filters select { padding: 10px; border: 1px solid var(--border); border-radius: 8px; }
    .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 20px 0; }
    .product-card { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; }
    .product-card img { width: 100%; height: 200px; object-fit: cover; }
    .product-info { padding: 15px; }
    .product-info h3 { margin-bottom: 10px; }
    .price { font-size: 18px; font-weight: bold; color: #e63946; }
    .original-price { text-decoration: line-through; color: #888; }
    .btn-add { width: 100%; padding: 10px; background: #000; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; }
  </style>
</head>
<body>
  <header>
    <div class="logo">Charlie's Tecnologi</div>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="offers.html">Ofertas</a>
      <a href="support.html">Soporte</a>
    </nav>
    <div class="actions">
      <span id="langToggle">ðŸ‡¬ðŸ‡§</span>
      <span id="themeToggle">ðŸŒ™</span>
      <a href="login.html">ðŸ‘¤</a>
      <a href="cart.html" class="cart-icon">
        <i class="fas fa-shopping-cart"></i> <span id="cartCount">0</span>
      </a>
    </div>
  </header>

  <main>
    <h2>Productos</h2>
    <div class="filters">
      <input type="text" id="search" placeholder="Buscar producto..." />
      <select id="categoryFilter">
        <option value="">Todas las categorÃ­as</option>
        <option value="laptops">Laptops</option>
        <option value="phones">TelÃ©fonos</option>
      </select>
    </div>
    <div class="product-grid" id="products"></div>
  </main>

  <script src="app.js"></script>
  <script>
    App.init();

    const products = [
      { id: 1, name: "MacBook Pro", price: 1899, img: "https://placehold.co/300x200/000/FFF?text=MacBook", category: "laptops" },
      { id: 2, name: "iPhone 15", price: 1199, img: "https://placehold.co/300x200/f00/FFF?text=iPhone", category: "phones" },
      { id: 3, name: "AirPods", price: 249, img: "https://placehold.co/300x200/0f0/FFF?text=AirPods", category: "accessories" }
    ];

    function render() {
      const query = document.getElementById("search").value.toLowerCase();
      const category = document.getElementById("categoryFilter").value;
      const container = document.getElementById("products");
      container.innerHTML = "";
      products
        .filter(p => {
          const q = p.name.toLowerCase().includes(query);
          const c = !category || p.category === category;
          return q && c;
        })
        .forEach(p => {
          container.innerHTML += `
            <div class="product-card">
              <img src="${p.img}" alt="${p.name}">
              <div class="product-info">
                <h3>${p.name}</h3>
                <p class="price">$${p.price}</p>
                <button class="btn-add" onclick="App.addToCart(${JSON.stringify(p)})">AÃ±adir al carrito</button>
              </div>
            </div>
          `;
        });
    }

    document.getElementById("search").addEventListener("input", render);
    document.getElementById("categoryFilter").addEventListener("change", render);
    render();
  </script>
</body>
</html>